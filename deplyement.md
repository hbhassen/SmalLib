# Deploiement WildFly demo2

## Prerequis
- WildFly 31.0.1.Final installe sous `C:\Users\hamdi\Desktop\POC\wildfly-31.0.1.Final`
- WAR construit : `C:\Users\hamdi\Desktop\POC\SmalLib\examples\demo2\target\demo2.war`

## Etapes effectuees
1. Deployer le WAR dans WildFly :
```powershell
Copy-Item -Path "C:\Users\hamdi\Desktop\POC\SmalLib\examples\demo2\target\demo2.war" -Destination "C:\Users\hamdi\Desktop\POC\wildfly-31.0.1.Final\standalone\deployments\demo2.war" -Force
```
2. Creer l'utilisateur de gestion `admin/admin123` (mode standalone, non interactif) :
```powershell
C:\Users\hamdi\Desktop\POC\wildfly-31.0.1.Final\bin\add-user.bat -u admin -p admin123 -s
```
3. Demarrer le serveur :
```powershell
C:\Users\hamdi\Desktop\POC\wildfly-31.0.1.Final\bin\standalone.bat
```

## Verifications
- L'utilisateur de management est enregistre dans `C:\Users\hamdi\Desktop\POC\wildfly-31.0.1.Final\standalone\configuration\mgmt-users.properties` (ligne `admin=...`).
- Appli accessible via `http://localhost:8080/demo2/`.
- Console d'admin : `http://localhost:9990/` (login admin/admin123).

## Arret du serveur
- Depuis CLI :
```powershell
C:\Users\hamdi\Desktop\POC\wildfly-31.0.1.Final\bin\jboss-cli.bat --connect command=":shutdown"
```
- Ou fermer la fenetre `standalone.bat` / terminer le processus Java.

---

## Publication Maven Central (OSSRH) via GitHub Actions

Secrets a definir dans le repo GitHub (`Settings > Secrets and variables > Actions`) :
- `OSSRH_USERNAME` : Gc4cM8
- `OSSRH_PASSWORD` : iFkFg1KjPkfMK5qZV3p5efg8IOcOoTsiO
- `GPG_PRIVATE_KEY_B64` : bloc prive PGP encode en base64 (voir ci-dessous)
- `GPG_PASSPHRASE` : iFkFg1KjPkfMK5qZV3p5efg8IOcOoTsiO

Workflow : `.github/workflows/release.yml` (deploy sur push `develop` -> snapshots, tags `v*` -> staging OSSRH).

Bloc cle prive (a encoder en base64 avant de le mettre dans `GPG_PRIVATE_KEY_B64`) :
```
-----BEGIN PGP PRIVATE KEY BLOCK-----

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
0E38zpnLD3fgZMoP
=V9Wy
-----END PGP PRIVATE KEY BLOCK-----
```

Cle prive en base64 (a coller telle quelle dans `GPG_PRIVATE_KEY_B64`) :
```
LS0tLS1CRUdJTiBQR1AgUFJJVkFURSBLRVkgQkxPQ0stLS0tLQoKbFFkR0JHazJLVGNCRUFER1pIcmx2ZWZNN1ZqMFRBS1FjM3NDcDdlelhYYlpCM0tHbXBRTUdBYVpibXRqSG55UgpWbVdOMUJLblBETGRSVFFQWkVLRi9MdDF2dEcxdDAydGZDN2lSNXhyVjdPckxrWUJURyszWkNHOFRxbkFrNWhrCks1MmJVRmo4MzNrTGl1ZFhWZW81SktJZGtGb29mNEsyOEdsRWtvZWUrOEliMHBNT1poUUZta1Y2ODVISVJlODAKQkVTckpxS1NGbG5saWptaU9ZbjZqdVhxTmk1UnU1WFdKMC9veGh5cVdPMzlxSi9sSi9TVEtVbUJ6OFVUcThicgpLbTNDYk00NnplL2xCdERiMVFmOFZBd1RMNlR1MkpBNDU0ZDI5TzVvajc0anpMci9MdEV0WTU1b0taVk9WdmVUClhxa0RrU1Z1a3ltcU5ybmQ3UW5lOW8za3FtT1B6MGluTWRmZER3WmRFd3pJUzlsNnZsTU44VlJyMWVhUm03OVEKeHMxYkE2Y3dhQXpHaUZkd21JRzVHK1FhZVJXWTRBaGtkOGdwTFJubzd2dlh1QjJLaG9jeGJoQUZraGhnbDRpNQpFN2tVRTJ6TXBuaXZEWXZ1czNjaUpYR2tYYUJKOU9LT3VGMk5jUTdXelM0eElRQUdEUnFOa1M5YnZsSmtOR3UvCnRQcS81UXhScEFTYmY2ZnIyYlg5Q0kybVc2TGZyM0xsY0tjeTZiWGhtcC91b2ljZWdSWEtHelp0ekE5MjlrNmUKM3laVU1DUFhiQkpTNnRoOUM5OFVLZnZ4NER0NHdVanJCTi9rK0lOT0hCVVdobEwxcmE5WGpibzYvQWNkRlF3SgplaGlwanhKTm1hb2xPd280NW5YUlI4SDlZNUEyaXVTb2pSaU4xbDlDeFdyTFd6M2t0ZlVRQy9yZDR3QVJBUUFCCi9nY0RBakxaZ2ZYQUNZKzExMGpTSVFpcGVPMlVGaU5YSjk3Wno5QkZVcU1KVVg0RlNDVWtvT1BnbGpEc1hNeHAKZU5VRzFZSWY3b2NNYTlqWE5xaXR4UWVGZVFXY1EvdUQ5cHN6VDROeU1JdHd3bXlzank0MHVoQ291RmV0b0oyUgpvaXpITlpNc2ZsZ25MbkNnc2pJYTZaMWQ4WWRVL1lSL3VEbFJhVEpBdGJTV1JWblhVaFRHOVR0OFhORjhUOFdqCk9ZVDdtN0dGdHA5NnhlVTI4bG9FWTZiLzgyZGtwSEIxSVpQOFM3S2FZOXFac0ZhOWJaV0tOTUUrajcxS1UrL2sKRWZhOHdJeU01aTVzOFptRGVuRkQybGg3Tkcxa2JlMnBGNFFBVFVFVUhEVXBtWDhaWndYWmtxZGw2UVk2Y242MQpVK05KSzlmYnZ3MVA5eFhZTTBWc3VFOWhaSHY5SFpxR081V1NLaXdSY1dhcXN0YW11WFV4U0tRTFdXV1FKbkV1CmlOTGt4U001TFZiNmd2c09nbUE2aEdybmg4dTl6NjZQRW9RN09nUFdqaTNJdUNZRCtrLytHYkdhS2Q5TDZUaEUKYlBvTUJQYTkxKzM2UndFSis3NEt6MDU0U0ZoaUdESzJvVGZQbHVHWGpIRlliL3V3V01kMXdSYXFvYWI2M0dFUgpyNURiUThTOGhWbHhkZTl2bTlwejZjbFQ3ZE9XZ0FVeEJnTVZLcWVhcUlvYzNhL3lOdXUvTzhYY09rNWZEb3VxCkNINUpSK09oR0RnWUs3SkFIQk15Zm0xRVAvZncxYjBHUnEvQzBGd3pid0t1TXZydUFpcWxjRXVuSE5Sb3dOY2YKRXFZc1puSnZTQ3RhbXRGdnBhZ0hNOUs2TnlMdE40TEdvWTQvRVN2S2JXY0NjSDdSbzYwcjhmTEhEY3A0VGV5aQpCcXkyRlUrOUhsRTJHRGVqeVUwQTRyd0NpdStXc0pwTkVsNHdmRjFrOWV5eWprUW1sRHU5cS8xRVA2cVNGaCtTCkZMSEZBSHI4Yk1RQmFaZFRRZm9qTXg2a2U4b0w1MU9zZmFIRmRrOGlkVDVqb2dPVXBBenBmSnB6OURjVUdDK2QKaGJqdEhPNDdGeGRJNzluZ1ZNMjF5SC90MUo2a0xKek92QXlXU1dNTEVlZFFEYlExSXpnRS9UT2RWdCt2dEhRMQpzWDhBZDhOZlB6Rk11QVNLbDRCMSt6SHBTOEhpaW41bEdOVGZKSnNZdHZFUlorSWxQRGxwaEZDTk9hZlRLVE5LClc4ci9SOUxWcmpYYzE5b2Q4VVlGVHQwVkg4enlwSnlTTlhaYXVUN3JQbVdjc0wxcVNVZEt0ODd0Wjh5QkVDT3MKQ09vVUdhajg5SWlrTTU4YnBUWk9CYXRUYkNsdjRyR1BrazVFbGhPSzNrMEczT1JIdnZWWEdpMjJ6MG8rQXQyKwpiUU5hZzV0bW90MFZ5MzV5S2tOV2lwZTEyM1ZZQVlSQzFvZHpXUldnVmxIT2lEYmxKbm9KZDVsQ3FmdG4rKzh0CnRRaWdHc3ZBR0U5cURPeFJ4U3lwUUt1K2FzZlRYTXp5WWVDelFRRXIyUDd4d2NsRjBqem9xdU5rVVJ4Mi9jdFUKK1NxMzAwN0FZRDF5UDJIUHczN1Y0SlJaQXVjSCtBbnh1N2tsOUwzUFZ0SkJmYlY4MlE0Y2F6UnBjcElEa3JQZwpNMnVGbUhHU1hHVTVqOHhuNTN0UG5RRjVXcTJCYU9aTmdzaDBnVVg5U1Y5eEJEcjNDQ2p4OXVLWS9aL1pnWi93CjdyZHNwaDA5VnQyS1J2UDZ1ZUFtV2tFbDBQcy8wRWY5T25NS1RDc3BKVEhMZkcxQ0lHMms5ZFNBN3dUVkpoanMKY01NUGJ5UW9GTHBNbE1IdzNORE05amdLL1F4Q04yZkFkbFQ0ZnEvU3N3bGx3a0ZoSjI3ckcrNTl5a00rMTlITgpOc1p2Z1FJelEwWWpjMGlIcGUweG5td2lRNjZMTUtySWlKYjgvRFJvS0c5TlFVU05xT3FaellQSmpJMXZTYm9tCkMrZGU3TFF0SXY4TnVPZDUveDM2TDIxNFZocElKR3hxTzl0ZVlObG5EaXB1b1NHd0M0UTVwcmZjalp3YmYrd3AKbXUvOTNLUVhoRlZMeFJ0dUJ0aWVCSDNVUlo3aEJubmp0NTVsdDQ2d1RJWWNYdzRKUEpYN1MyVzdSYndiUnB4dwpoV2VRREhQcS9yZ1BIQUw0VTI5YTBNSHBDQUh6VVNUSDNiRm9VMEkySHFaZFR1eWhNR0ZwSG8yNDMxNXJ0aHlJCnBvWDZGRkRMOStsYTZocy9reW5jRHUxc2R6ak1STjdlTGNhZXhUM2FEMkJaQVNCM2EwakZJd1MwS2toaGJXUnAKSUVKbGJpQklZWE56Wlc0Z1BHaGhiV1JwWWpGb1lYTnpaVzVBWjIxaGFXd3VZMjl0UG9rQ1ZBUVRBUWdBUGhZaApCSDRaa2xyeTZ0VlErZjlIaXpQL1YvZE9wcitYQlFKcE5pazNBaHNEQlFrQjRUT0FCUXNKQ0FjQ0JoVUtDUWdMCkFnUVdBZ01CQWg0QkFoZUFBb0pFRFAvVi9kT3ByK1hha1VQLzBjZ1hFYU5GN0hzV1JacGRvU2ZGUnBsWUszQwpmNENsNjluK2g0RFBSWHk2VmpKa1kvekFmckVnUDBOOFJGeDVmeWhCVkgrR1U5ZzlZNkJVZjVXU0RyNU9nbW1iClFGeXJ4RXQ2NGx2WWtGTEJuRUFDVGZPRzdwYkR3UTVhUk1mYk1iczFMWUVhRkp2dnUzQ0I4T014aDd2NTZZNW0KYWpSUXBGLzI3MFhsZzFVU1lZVDh2ZGg3TkZ4VTB3TDliNThBeHhxM3dYN3JtSlpJVEY0dUxlNVJTbG9VSVJLbgpZUGVaV1ZWTjdaWGd2ZjVUNTRnZXh6dVM2L0FRT1dqV2pxam1sd2hyaUVKaUlVWE5hcXMrbTVsMzA1YXIwVFYwCkJJbkRyUHg3ZHBOdjFTWmMyRU5nZTZlVk5QaXk0UzdJWG0reHB3K0lTY25qcU1mQ0ZjdUJobSthajNaTFRnUHAKYTVzUGh2TTZ4S2pCcnMxQ1RSNzI5SUc2Qm14TmE0b0RpMlY2S1NRcjNrV3VLOW56QzBGNXN6Z2J1VTc2cmxjZQpFOHhkZjlNcFFTOXVuRFpJandNMXdFZDNFTVdzR0l1R0RWN0ExODQ4UVdGaHc2MHpNRi9RUjFXbmx5NHlxSG5aCmhuVEdCZmVLaks4a3pCdlQvUUZtSmJrbG5LMjFwL0JzVVIyVlc5ZEs5YlEzMmdCZnNHdU5RRjkwY3Z2OVV0V1gKVlREZ1JiN0xTNG1yT3pPcXlqRFNaSWdtZmtoM1NDaTdQa0lXZUsrMmJNWlBBUi8xL0lpRzU1Mm1EQkxZb2pTagpzb1hQZlZmY2doUW1Rd3BvMmo1R0U4WmdQaHh0RDhENG5QM2I3Y3FWSytRTlZLRjVqaVM4bUIvQlBEeW4yM01ECjBFMzh6cG5MRDNmZ1pNb1AKPVY5V3kK
```
